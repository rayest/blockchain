### å®‰è£… geth

```shell
# å®‰è£…Gethï¼šæ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è·å–å¹¶å®‰è£…gethã€‚è¿™é‡Œä½¿ç”¨go installå‘½ä»¤ï¼Œè¿™æ˜¯Go 1.11åŠä»¥ä¸Šç‰ˆæœ¬æ¨èçš„æ–¹å¼ï¼Œå¹¶ä¸”ä¼šåˆ©ç”¨æ¨¡å—åŠŸèƒ½ã€‚
$ go install github.com/ethereum/go-ethereum/cmd/geth@latest
```

> å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ¥ä½¿ç”¨gethï¼Œæ¯”å¦‚å¯åŠ¨ä¸€ä¸ªä»¥å¤ªåŠèŠ‚ç‚¹ã€åˆå§‹åŒ–æ–°é’±åŒ…ã€è¿æ¥åˆ°æµ‹è¯•ç½‘ç»œç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºæœ¬çš„gethå‘½ä»¤ç¤ºä¾‹ï¼š

### ä½¿ç”¨ geth

```shell
$ cd /Users/lirui/Documents/dn/codes/bc/fabric/blockchain/eth
$ mkdir geth-data && touch genesis.json
```

* ä½¿ç”¨gethåˆ›å»ºå‡ ä¸ªè´¦æˆ·ï¼Œç”¨äºæŒ–çŸ¿ä½¿ç”¨ï¼ˆRayest@1108ï¼‰

```shell
$ geth --datadir geth-data account new
```

![image-20240429181114509](/Users/lirui/Library/Application Support/typora-user-images/image-20240429181114509.png)

> public address of the key å°±æ˜¯è´¦æˆ·åœ°å€

```json
# genesis.json ä¸­çš„å†…å®¹
{
    "config": {
        "chainId": 89120348581, // è‡ªå®šä¹‰ç½‘ç»œIDï¼Œé¿å…ä¸ä¸»ç½‘ã€æµ‹è¯•ç½‘å†²çª
        "homesteadBlock": 0,
	      "eip150Block": 0, // ç¡®ä¿EIP150è¢«å¯ç”¨ï¼Œä¸”æ¿€æ´»ç‚¹ä¸æ™šäºEIP155
        "eip155Block": 0,
        "eip158Block": 0
    },
    "difficulty": "20", // åˆå§‹éš¾åº¦ï¼Œè¿™é‡Œè®¾ç½®è¾ƒä½ä¾¿äºå¿«é€ŸæŒ–çŸ¿
    "gasLimit": "2100000", // åˆå§‹Gasé™åˆ¶
    "alloc": { // åˆå§‹è´¦æˆ·ä½™é¢åˆ†é…
        "0x1a9ec3b0b807464e6d3398a59d6b0a369bf422fa": { "balance": "30000000000000000000000" },  // åˆ†é…ç»™ç‰¹å®šåœ°å€çš„ä»¥å¤ªå¸æ•°é‡ï¼Œ
        "0x33df901abc22dcb7f33c2a77ad43cc98fbfa0790": { "balance": "40000000000000000000000" }  // åˆ†é…ç»™ç‰¹å®šåœ°å€çš„ä»¥å¤ªå¸æ•°é‡ï¼Œ
    }
}
```

```shell
# åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„åŒºå—é“¾æ•°æ®ç›®å½•
$ geth --datadir ./geth-data init genesis.json

# èŠ‚ç‚¹è¿è¡Œã€‚networkid éœ€è¦å’Œ genesis.json ä¸­åˆ†é…çš„ chainId ä¸€è‡´
$ geth --datadir ./geth-data --ipcpath ./geth-data/geth.ipc --networkid 89120348581

# attach äº¤äº’
$ geth attach ipc://Users/lirui/Documents/dn/codes/bc/fabric/blockchain/eth/geth-data/geth.ipc
```

![image-20240429182428056](/Users/lirui/Library/Application Support/typora-user-images/image-20240429182428056.png)

```shell
# åœ¨æ‰§è¡Œ attach çš„ç•Œé¢æ“ä½œ
# æ¨¡æ‹ŸæŒ–çŸ¿ã€‚startä¸­çš„ 1 è¡¨ç¤ºå¯åŠ¨ä¸€ä¸ªworkerçº¿ç¨‹å»æŒ–çŸ¿ï¼Œå¦‚æœä¸é…ç½®ï¼Œä¼šé»˜è®¤èŠ‚ç‚¹çš„cpuæ ¸æ•°ã€‚
miner.start(1)
```

![image-20240429183053122](/Users/lirui/Library/Application Support/typora-user-images/image-20240429183053122.png)

![image-20240429183355410](/Users/lirui/Library/Application Support/typora-user-images/image-20240429183355410.png)

- `Successfully sealed new block`: è¡¨ç¤ºä½ çš„èŠ‚ç‚¹æˆåŠŸåœ°å¯†å°ï¼ˆæŒ–å‡ºäº†ï¼‰æ–°åŒºå—ã€‚ä¾‹å¦‚ï¼ŒåŒºå—ç¼–å·80å’Œ81åˆ†åˆ«åœ¨ä¸åŒæ—¶é—´ç‚¹è¢«æŒ–å‡ºã€‚è¿™åŒ…æ‹¬äº†å¯†å°æ—¶é—´ã€åŒºå—å“ˆå¸Œä»¥åŠå¯†å°å·¥ä½œçš„åŸºæœ¬ä¿¡æ¯ã€‚
- `ğŸ”— block reached canonical chain`: æŒ‡ç¤ºæŸä¸ªåŒºå—ï¼ˆå¦‚73å·å’Œ74å·åŒºå—ï¼‰å·²ç»æˆä¸ºæˆ–ç¡®è®¤ä¸ºè§„èŒƒé“¾çš„ä¸€éƒ¨åˆ†ã€‚è¿™æ„å‘³ç€è¿™äº›åŒºå—ç»è¿‡ç½‘ç»œå…±è¯†ï¼Œè¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆçš„ï¼Œå¹¶è¢«æ·»åŠ åˆ°äº†æœ€é•¿çš„ã€å…¬è®¤çš„åŒºå—é“¾ä¸Šã€‚
- `ğŸ”¨ mined potential block`: è¿›ä¸€æ­¥ç¡®è®¤æ–°åŒºå—å·²è¢«æŒ–å‡ºï¼Œå¹¶ç»™å‡ºäº†åŒºå—çš„å“ˆå¸Œå€¼ã€‚
